"use strict";(self.webpackChunkchia_dev_guides=self.webpackChunkchia_dev_guides||[]).push([[3147],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),d=i,f=p["".concat(l,".").concat(d)]||p[d]||h[d]||r;return n?o.createElement(f,a(a({ref:t},u),{},{components:n})):o.createElement(f,a({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6527:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return h}});var o=n(3117),i=n(102),r=(n(7294),n(3905)),a=["components"],s={slug:"/crash-course/singletons",title:"Singletons"},l=void 0,c={unversionedId:"crash-course/singletons",id:"crash-course/singletons",title:"Singletons",description:"Coin Set Refresher",source:"@site/guides/crash-course/singletons.md",sourceDirName:"crash-course",slug:"/crash-course/singletons",permalink:"/guides/crash-course/singletons",draft:!1,editUrl:"https://github.com/Chia-Network/chia-dev-guides/edit/main/guides/crash-course/singletons.md",tags:[],version:"current",frontMatter:{slug:"/crash-course/singletons",title:"Singletons"}},u={},h=[{value:"Coin Set Refresher",id:"coin-set-refresher",level:2},{value:"State and Singletons",id:"state-and-singletons",level:2},{value:"Why are Singletons Important?",id:"why-are-singletons-important",level:2}],p={toc:h};function d(e){var t=e.components,n=(0,i.Z)(e,a);return(0,r.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"coin-set-refresher"},"Coin Set Refresher"),(0,r.kt)("p",null,"Before we jump in to the bulk of this lesson I wanted to remind you of how the chia blockchain works. Chia uses a ",(0,r.kt)("strong",{parentName:"p"},"coin set")," model very similar to that of Bitcoin's UTXO model. This is very different than the account model used in other major chains. Instead of having an account with a ",(0,r.kt)("em",{parentName:"p"},"balance"),", you just have a collection of unspent coins that you are able to spend."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Coin 1: 0.25 XCH"),(0,r.kt)("li",{parentName:"ul"},"Coin 2: 1.75 XCH"),(0,r.kt)("li",{parentName:"ul"},"Coin 3: 0.25 XCH"),(0,r.kt)("li",{parentName:"ul"},"Coin 4: 1.75 XCH")),(0,r.kt)("p",null,"Balance: 4 XCH"),(0,r.kt)("p",null,'You will often hear "everything is a coin" being said. This is true!'),(0,r.kt)("p",null,"This introduces some unique approaches to creating software on the Chia blockchain."),(0,r.kt)("p",null,"To use Chialisp on the Chia blockchain, we must create a coin. As part of the coin set model, spending a coin results in a collection of removals and additions. The removals are your existing coins used for the spend being destroyed, and the additions are new coins (including any change) being created."),(0,r.kt)("p",null,"Here is an example"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Say you have 1.75 XCH"),(0,r.kt)("li",{parentName:"ol"},"You send .75 XCH to some address (remember, an address is an encoded form of puzzle hash)"),(0,r.kt)("li",{parentName:"ol"},"This results in all 1.75 of your XCH being spent"),(0,r.kt)("li",{parentName:"ol"},"a new coin worth 1 XCH is created to be returned back to you (this is called change)"),(0,r.kt)("li",{parentName:"ol"},"a new coin worth .75 XCH is created for the destination puzzle hash")),(0,r.kt)("p",null,"Another example:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Say you have 2 XCH made up of multiple small coins"),(0,r.kt)("li",{parentName:"ol"},"You send 1 XCH to some address"),(0,r.kt)("li",{parentName:"ol"},"Coins of .1 XCH, .5 XCH, and .45 XCH are being spent to sum up to 1.05 XCH (greater than or equal to 1 XCH spend)"),(0,r.kt)("li",{parentName:"ol"},"a new coin worth .05 XCH is created to be returned back to you"),(0,r.kt)("li",{parentName:"ol"},"a new coin worth 1 XCH is created for the destination puzzle hash")),(0,r.kt)("h2",{id:"state-and-singletons"},"State and Singletons"),(0,r.kt)("p",null,"We are now going to be discussing the idea of state. State is used to maintain some value on-chain. In the world of Chia, this is done with a singleton coin."),(0,r.kt)("p",null,"A singleton is something that can only have a single instance, but to update a singleton in Chia the existing is destroyed and a new is created. Because the singleton will be a series of spent coins and new coins created over time, we need a different way than the coin ID to identify a singleton. A singleton is instead identified by its ",(0,r.kt)("strong",{parentName:"p"},"launcher ID"),", which is the coin ID of the singletons parent coin. This parent coin is the coin used to create the initial coin of the singleton."),(0,r.kt)("h2",{id:"why-are-singletons-important"},"Why are Singletons Important?"),(0,r.kt)("p",null,"Anyone can create a coin with any puzzle. This means there is a good chance there will be multiple coins with the same puzzle hash. This can lead to confusion as to which coin is which, and may lead to confusion or mistakes. A singleton allows for something to exist on chain that is provably unique. This helps us be sure that we are working with the correct coin."),(0,r.kt)("p",null,"Additionally, following the chain of coins for a singleton, we can see the history of state and how it has changed."))}d.isMDXComponent=!0}}]);